;/*FB_PKG_DELIM*/

__d("LSHasMatchingAttachmentCTA",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.count(b.filter(b.db.table(19).fetch([[[a[0]]],"fk_attachments"]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.attachmentFbid===a[1]})).then(function(a){return c[0]=a})},function(a){return d[0]=b.i64.gt(c[0],b.i64.cast([0,0]))}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxHasMatchingAttachmentCTAStoredProcedure";a.__tables__=["attachment_ctas"];e.exports=a}),null);
__d("LSUpdateExtraAttachmentColumns",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(16).fetch([[[a[0],a[2],a[3]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),a[1])&&c.messageId===a[2]&&c.attachmentFbid===a[3]}),function(b){var c=b.update;b.item;return c({listItemAccessibilityText1:a[4],listItemAccessibilityText2:a[5],listItemAccessibilityText3:a[6],subtitleIconUrl:a[17],attachmentLoggingType:a[18],preheaderText:a[19],shouldAutoplayVideo:a[20],previewUrlLarge:a[21],previewWidthLarge:a[24],previewHeightLarge:a[25],avatarViewUrlList:a[10],avatarViewUrlExpirationTimestampList:a[11],avatarViewUrlFallbackList:a[12],avatarViewTitleList:a[13],avatarViewSize:a[14],avatarCount:a[15],avatarViewContextText:a[16]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateExtraAttachmentColumnsStoredProcedure";a.__tables__=["attachments"];e.exports=a}),null);