;/*FB_PKG_DELIM*/

__d("CometUnavailableFeature.react",["fbt","FDSTooltip.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(6);a=a.children;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x1h6gzvc x1n2onr6 x1ja2u2z x4k7w5x x1h91t0o x1h9r5lt x1jfb8zj xv2umb2 x1beo9mf xaigb6o x12ejxvf x3igimt xarpa2k xedcshv x1lytzrv x1t2pt76 x7ja8zs x1qrby5j"},b[0]=e):e=b[0];var f,g,i;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"__JHASH__FSzHKYNMOBS__JHASH__"),g=j.jsx("div",{className:"x1ey2m1c xds687c x17qophe x10l6tqk x13vifvy x1vjfegm"}),i={className:"x47corl x1ja2u2z x4k7w5x x1h91t0o x1h9r5lt x1jfb8zj xv2umb2 x1beo9mf xaigb6o x12ejxvf x3igimt xarpa2k xedcshv x1lytzrv x1t2pt76 x7ja8zs x1qrby5j"},b[1]=f,b[2]=g,b[3]=i):(f=b[1],g=b[2],i=b[3]);b[4]!==a?(e=j.jsx("div",babelHelpers["extends"]({},e,{children:j.jsxs(c("FDSTooltip.react"),{position:"above",tooltip:f,children:[g,j.jsx("div",babelHelpers["extends"]({},i,{children:a}))]})})),b[4]=a,b[5]=e):e=b[5];return e}g["default"]=a}),226);
__d("CometFeatureKillswitch.react",["CometUnavailableFeature.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2),e=a.children,f=a.enableFeature;a=a.fallback;if(f)return e;b[0]!==a?(f=i.jsx(c("CometUnavailableFeature.react"),{children:a}),b[0]=a,b[1]=f):f=b[1];return f}g["default"]=a}),98);
__d("CometFeedStoryPrivacySelectorStrategy_audience.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"privacySelectorRenderLocation"}],kind:"Fragment",metadata:null,name:"CometFeedStoryPrivacySelectorStrategy_audience",selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedStoryMatchDebugger_iCometStorySection"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope",plural:!1,selections:[{args:[{kind:"Variable",name:"renderLocation",variableName:"privacySelectorRenderLocation"}],kind:"FragmentSpread",name:"CometPrivacySelectorForScope_scope"}],storageKey:null},{alias:null,args:null,concreteType:"NarrativeThreadMetadata",kind:"LinkedField",name:"narrative_thread_metadata",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometNarrativeThreadPrivacyChangeStartCallback_narrativeThreadMetadata"}],storageKey:null}],storageKey:null}],type:"CometFeedStoryPrivacySelectorStrategy",abstractKey:null};e.exports=a}),null);
__d("useCometNarrativeThreadPrivacyChangeStartCallback_narrativeThreadMetadata.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometNarrativeThreadPrivacyChangeStartCallback_narrativeThreadMetadata",selections:[{alias:null,args:null,concreteType:"NarrativeThread",kind:"LinkedField",name:"thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"NarrativeThreadMetadata",abstractKey:null};e.exports=a}),null);
__d("useCometNarrativeThreadPrivacyChangeStartCallback",["fbt","CometRelay","react","react-compiler-runtime","requireDeferred","useCometNarrativeThreadPrivacyChangeStartCallback_narrativeThreadMetadata.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;(j||d("react")).useCallback;var k=c("requireDeferred")("cometPushToast").__setRef("useCometNarrativeThreadPrivacyChangeStartCallback");function a(a){var c=d("react-compiler-runtime").c(2);a=d("CometRelay").useFragment(i!==void 0?i:i=b("useCometNarrativeThreadPrivacyChangeStartCallback_narrativeThreadMetadata.graphql"),a);var e=a==null?void 0:(a=a.thread)==null?void 0:a.id;c[0]!==e?(a=function(){if(e!=null){var a=h._(/*BTDS*/"__JHASH__Sa5RsY1bt3m__JHASH__");k.onReady(function(b){b.cometPushToast({message:a})})}},c[0]=e,c[1]=a):a=c[1];return a}g["default"]=a}),226);
__d("CometFeedStoryPrivacySelectorStrategy.react",["CometFeedStoryPrivacySelectorStrategy_audience.graphql","CometFeedStoryRenderLocationContext","CometPrivacySelectorForScope.react","CometRelay","react","react-compiler-runtime","useCometFeedStoryMatchDebugger","useCometNarrativeThreadPrivacyChangeStartCallback","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext;function a(a){var e,f=d("react-compiler-runtime").c(5),g=a.audience;a=a.privacySelectorRenderLocation;c("vulture")("afMz0qxHhAJ");g=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryPrivacySelectorStrategy_audience.graphql"),g);var i=k(c("CometFeedStoryRenderLocationContext"));i=i.storyRenderLocation;c("useCometFeedStoryMatchDebugger")(g);e=c("useCometNarrativeThreadPrivacyChangeStartCallback")((e=g.story)==null?void 0:e.narrative_thread_metadata);a=(a=a)!=null?a:"COMET_STREAM";g=g==null?void 0:(g=g.story)==null?void 0:g.privacy_scope;var l;f[0]!==e||f[1]!==i||f[2]!==a||f[3]!==g?(l=j.jsx(c("CometPrivacySelectorForScope.react"),{onPrivacyChangeStart:e,renderLocation:a,scope:g,storyRenderLocation:i}),f[0]=e,f[1]=i,f[2]=a,f[3]=g,f[4]=l):l=f[4];return l}g["default"]=a}),98);
__d("CometFeedStoryPrivacySelectorStrategy_audience$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"CometFeedStoryPrivacySelectorStrategy_audience$normalization",selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"ICometStorySection",abstractKey:"__isICometStorySection"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"cOoG"}],concreteType:null,kind:"LinkedField",name:"privacy_scope_renderer",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{args:[{kind:"Variable",name:"CometPrivacySelectorEditable_renderer$renderLocation",variableName:"privacySelectorRenderLocation"}],documentName:"CometPrivacySelectorForScope_scope",fragmentName:"CometPrivacySelectorEditable_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"PrivacyScopeEditableRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:[{kind:"Variable",name:"CometPrivacySelectorUneditable_renderer$renderLocation",variableName:"privacySelectorRenderLocation"}],documentName:"CometPrivacySelectorForScope_scope",fragmentName:"CometPrivacySelectorUneditable_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"PrivacyScopeUneditableRenderer",abstractKey:null},b,{kind:"TypeDiscriminator",abstractKey:"__isPrivacySelectorRenderer"}],storageKey:'privacy_scope_renderer(supported:"cOoG")'}],storageKey:null},{alias:null,args:null,concreteType:"NarrativeThreadMetadata",kind:"LinkedField",name:"narrative_thread_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"NarrativeThread",kind:"LinkedField",name:"thread",plural:!1,selections:[b],storageKey:null}],storageKey:null},b],storageKey:null}]}}();e.exports=a}),null);
__d("CometPrivacySelectorEditableQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8490611354395091"}),null);
__d("CometPrivacySelectorEditableQuery.graphql",["CometPrivacySelectorEditable_renderer$normalization.graphql","CometPrivacySelectorEditableQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"id"},c={defaultValue:!1,kind:"LocalArgument",name:"includePickerData"},d={defaultValue:null,kind:"LocalArgument",name:"localPrivacyRow"},e={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},f={defaultValue:null,kind:"LocalArgument",name:"scale"},g={defaultValue:null,kind:"LocalArgument",name:"tags"},h=[{kind:"Variable",name:"id",variableName:"id"}];return{fragment:{argumentDefinitions:[a,c,d,e,f,g],kind:"Fragment",metadata:null,name:"CometPrivacySelectorEditableQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"includePickerData",variableName:"includePickerData"},{kind:"Variable",name:"localPrivacyRow",variableName:"localPrivacyRow"},{kind:"Variable",name:"renderLocation",variableName:"renderLocation"},{kind:"Variable",name:"tags",variableName:"tags"}],kind:"FragmentSpread",name:"CometPrivacySelectorEditable_renderer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,e,f,g,a],kind:"Operation",name:"CometPrivacySelectorEditableQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:[{kind:"Variable",name:"CometPrivacySelectorEditable_renderer$includePickerData",variableName:"includePickerData"},{kind:"Variable",name:"CometPrivacySelectorEditable_renderer$localPrivacyRow",variableName:"localPrivacyRow"},{kind:"Variable",name:"CometPrivacySelectorEditable_renderer$renderLocation",variableName:"renderLocation"},{kind:"Variable",name:"CometPrivacySelectorEditable_renderer$tags",variableName:"tags"}],fragment:b("CometPrivacySelectorEditable_renderer$normalization.graphql"),kind:"FragmentSpread"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("CometPrivacySelectorEditableQuery_facebookRelayOperation"),metadata:{},name:"CometPrivacySelectorEditableQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometPrivacySelectorEditable_renderer.graphql",["CometPrivacySelectorEditableQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"tags",variableName:"tags"},c=[{kind:"Variable",name:"localPrivacyRow",variableName:"localPrivacyRow"},{kind:"Variable",name:"renderLocation",variableName:"renderLocation"},a];return{argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"includePickerData"},{defaultValue:null,kind:"LocalArgument",name:"localPrivacyRow"},{defaultValue:null,kind:"LocalArgument",name:"renderLocation"},{kind:"RootArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"tags"}],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["node"],operation:b("CometPrivacySelectorEditableQuery.graphql"),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"CometPrivacySelectorEditable_renderer",selections:[{args:null,kind:"FragmentSpread",name:"useCometPrivacySelectorNotifyPrivacyOnInitEffect_renderer"},{args:c,kind:"FragmentSpread",name:"useCometPrivacySelectorOnRowInputMismatchEffect_renderer"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:c,kind:"FragmentSpread",name:"CometPrivacySelectorEntryPointMatchContainer_renderer"},{condition:"includePickerData",kind:"Condition",passingValue:!0,selections:[{args:c,kind:"FragmentSpread",name:"CometPrivacySelectorPickerContainer_renderer"}]},{alias:"scope",args:[{kind:"Variable",name:"render_location",variableName:"renderLocation"},{kind:"Variable",name:"selected_override",variableName:"localPrivacyRow"},a],concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometPrivacySelectorDialog_scope"},{args:null,kind:"FragmentSpread",name:"useCometPrivacySelectorPushView_scope"},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_edit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy_write_id",storageKey:null}],storageKey:null}],type:"PrivacyScopeEditableRenderer",abstractKey:null}}();e.exports=a}),null);
__d("useCometPrivacySelectorOnRowInputMismatchEffect_renderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"PrivacyRowInput_fragment"}],b={alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"privacy_row_input",plural:!1,selections:a,storageKey:null};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"localPrivacyRow"},{defaultValue:null,kind:"LocalArgument",name:"renderLocation"},{defaultValue:null,kind:"LocalArgument",name:"tags"}],kind:"Fragment",metadata:null,name:"useCometPrivacySelectorOnRowInputMismatchEffect_renderer",selections:[b,{alias:"scope",args:[{kind:"Variable",name:"render_location",variableName:"renderLocation"},{kind:"Variable",name:"selected_override",variableName:"localPrivacyRow"},{kind:"Variable",name:"tags",variableName:"tags"}],concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"selected_row_override",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"selected_option",plural:!1,selections:[b],storageKey:null}],storageKey:null}],type:"PrivacySelectorRenderer",abstractKey:"__isPrivacySelectorRenderer"}}();e.exports=a}),null);
__d("useCometPrivacySelectorOnRowInputMismatchEffect",["CometPrivacySelectorContext","CometRelay","PrivacyRowInput","react","useCometPrivacySelectorOnRowInputMismatchEffect_renderer.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useContext,k=e.useEffect,l=e.useRef;function a(a,e,f){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometPrivacySelectorOnRowInputMismatchEffect_renderer.graphql"),a);var g=a.scope,i=j(c("CometPrivacySelectorContext")),n=i[0].localPrivacyRow;i=i[1];var o=l(i);o.current=i;var p=l(e);p.current=e;var q=d("PrivacyRowInput").usePrivacyRowInput(g==null?void 0:g.selected_row_override),r=d("PrivacyRowInput").usePrivacyRowInput(a.privacy_row_input),s=d("PrivacyRowInput").usePrivacyRowInput(g==null?void 0:(i=g.selected_option)==null?void 0:i.privacy_row_input);k(function(){if(f)return;var a=n!==null&&m(n,q,s),b=m(null,n,q)&&d("PrivacyRowInput").arePrivacyRowInputsEqual(r,s);if(a||b)return;a=n!==null&&q===null&&m(n,r,s);if(a){o.current({localPrivacyRow:null,type:"setLocalPrivacyRow"});return}return p.current()},[q,s,f,n,r])}function m(a,b,c){return d("PrivacyRowInput").arePrivacyRowInputsEqual(a,b)&&d("PrivacyRowInput").arePrivacyRowInputsEqual(a,c)}g["default"]=a}),98);
__d("useCometPrivacySelectorOnTagsChangedEffect",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function k(a,b){if(a==null&&b==null)return!0;if(a==null||b==null)return!1;if(a.length!==b.length)return!1;var c=new Set(b);return a.every(function(a){return c.has(a)})}function a(a,b){var c=j(b);c.current=b;var d=j(a);i(function(){if(!k(d.current,a))return c.current(function(){d.current=a})},[a])}g["default"]=a}),98);
__d("CometPrivacySelectorEditable.react",["CometFeatureKillswitch.react","CometPrivacySelectorContext","CometPrivacySelectorEditable_renderer.graphql","CometPrivacySelectorEntryPointMatchContainer.react","CometRelay","WebPixelRatio","emptyFunction","react","unrecoverableViolation","useCometPrivacySelectorDialog","useCometPrivacySelectorNotifyPrivacyOnInitEffect","useCometPrivacySelectorOnRowInputMismatchEffect","useCometPrivacySelectorOnTagsChangedEffect","useCometPrivacySelectorPushView"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useContext,m=e.useMemo,n=e.useRef,o=e.useState,p=e.useTransition;function q(a){return a==null?void 0:a.filter(function(a){return!isNaN(a)})}function a(a){var e=a.onPrivacyChange,f=a.onPrivacyChangeStart,g=a.renderer,i=babelHelpers.objectWithoutPropertiesLoose(a,["onPrivacyChange","onPrivacyChangeStart","renderer"]);a=i.callsiteContextInput;var r=i.onBeforePushPage,s=i.pushPage,t=i.renderLocation,u=i.tags;u=q(u);g=d("CometRelay").useRefetchableFragment(h!==void 0?h:h=b("CometPrivacySelectorEditable_renderer.graphql"),g);var v=g[0],w=g[1],x=v.id;g=v.scope;var y=l(c("CometPrivacySelectorContext")),z=y[0];y=y[1];var A=z.localPrivacyRow;c("useCometPrivacySelectorNotifyPrivacyOnInitEffect")(v,A==null?e:null);var B=p(),C=B[0],D=B[1];B=o(!1);var E=B[0],F=B[1],G=n(!1);B=E||C||G.current;function H(a,b){a===void 0&&(a=null);if(x==null)return;var c={id:x,includePickerData:!0,localPrivacyRow:b,renderLocation:t,scale:d("WebPixelRatio").get(),tags:u},e=b?"store-and-network":"network-only";D(function(){w(c,{fetchPolicy:e,onComplete:function(){G.current=!1,a==null?void 0:a()}})})}var I=k(function(a){F(!0),f&&f(a)},[f]),J=n(H);J.current=H;var K=k(function(a){a.type==="success"&&J.current(null,a.__newLocalPrivacyRow),F(!1),e&&e(a)},[e]),L=function(a){return H(a,A)};c("useCometPrivacySelectorOnTagsChangedEffect")(u,L);c("useCometPrivacySelectorOnRowInputMismatchEffect")(v,L,E||C);L=m(function(){return babelHelpers["extends"]({},i,{onPrivacyChange:K,onPrivacyChangeStart:I})},[i,K,I]);if(g==null)throw c("unrecoverableViolation")("Failed to render privacy selector. No scope was received.","comet_privacy_selector");E=g.can_viewer_edit;C=g.privacy_write_id;if(E!==!0)throw c("unrecoverableViolation")("Trying to render an editable Privacy Selector that the user cannot edit","comet_privacy_selector");if(C==null)throw c("unrecoverableViolation")("Trying to render an editable Privacy Selector without a write ID","comet_privacy_selector");E=c("useCometPrivacySelectorDialog")(g,L,z,y);C=E[0];E=E[1];g=c("useCometPrivacySelectorPushView")(g,L,z,y);L=null;L=s!=null?g:C;y=(z=i.enabled)!=null?z:!0;g=j.jsx(c("CometPrivacySelectorEntryPointMatchContainer.react"),{props:{callsiteContextInput:a,isEnabled:y,isSaving:B,onBeforePushPage:r,onPress:(s=L)!=null?s:c("emptyFunction"),onPrivacyChange:K,onPrivacyChangeStart:I,renderLocation:t,triggerRef:E},renderer:v});return j.jsx(c("CometFeatureKillswitch.react"),{enableFeature:!0,fallback:g,children:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);